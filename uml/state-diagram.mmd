stateDiagram-v2
    [*] --> Veille

    Veille --> SelectionMode : Pièce insérée
    SelectionMode --> SelectionPersonnage : Mode PvE choisi
    SelectionMode --> AttenteAdversaire : Mode PvP choisi
    AttenteAdversaire --> SelectionPersonnage : Room rejointe (code valide)
    SelectionPersonnage --> EnJeu : Personnage confirmé + plunger tiré

    state EnJeu {
        [*] --> Actif
        Actif --> UltimePret : barreUltime = 100%
        UltimePret --> Actif : Ultime déclenché
    }

    EnJeu --> Tilt : Gyroscope > seuil
    Tilt --> BillePerdue
    EnJeu --> BillePerdue : Bille hors limites
    BillePerdue --> EnJeu : vies > 0
    BillePerdue --> Resultats : vies = 0

    EnJeu --> BossVaincu : HP boss = 0
    BossVaincu --> EnJeu : indexBoss < 3
    BossVaincu --> Resultats : tous les boss vaincus

    Resultats --> Veille : Start pressé ou délai expiré
    Resultats --> [*]

%%  Alexis Gontier - v1.1.0 - 23/02/26
